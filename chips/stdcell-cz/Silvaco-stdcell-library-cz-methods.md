# Cell Characterization Concepts

#### Introduction to Cell Characterization


![](Silvaco-stdcell-library-cz-methods.pdf-0-0.png)

-----

![](Silvaco-stdcell-library-cz-methods.pdf-1-0.png)

## Syllabus

###  Overview
  Cell Characterization Attributes
  Delay Modeling 
  Timing Arcs
  Lookup Table Templates
  Timing Constraints
  Power Modeling

**Introduction to Cell Characterization**


2


-----

![](Silvaco-stdcell-library-cz-methods.pdf-2-0.png)

## Overview

###  Objective of Cell Characterization
  Digital Design Tools That Use Standard Cell Models
  Input Data Files Required by Digital Design Tools (Generated by

#### AccuCell)

###  Input Data Files Required by Digital Design Tools (Generated by

#### Other Tools)

###  Types of Standard Cell Libraries
  Digital Circuit Representation – Inverter 
  Analog Circuit Description - Inverter
  Input Views of Circuits

#### Bridging Analog and Digital

###  Static Timing Analysis Use of Liberty Format 


**Introduction to Cell Characterization**


3


-----

![](Silvaco-stdcell-library-cz-methods.pdf-3-0.png)

## Objective of Cell Characterization

###  Create a set of high quality models of a standard cell library that

#### accurately and efficiently model cell behavior

  This set of models are used by several different digital design tools for

###### different purposes


**Introduction to Cell Characterization**


4


-----

![](Silvaco-stdcell-library-cz-methods.pdf-4-0.png)

## Digital Design Tools That Use Standard Cell Models

###  Synthesis Tools
  Place and Routing Systems
  High level Design Language (HDL) Simulators (Verilog and VHDL)
  Floor planning Tools
  Physical Placement tools
  Static Timing Analysis (STA) tools
  Power Analysis tools
  Formal Verification tools
  Automatic Test Program Generation (ATPG) tools
  Library Compiler


**Introduction to Cell Characterization**


5


-----

![](Silvaco-stdcell-library-cz-methods.pdf-5-0.png)

## Input Data Files Required by Digital Design Tools (Generated by AccuCell)

###  .lib Technology library source files

  .v Generated Verilog simulation libraries

  .tbench Verilog testbench to compare SPICE to Verilog

#### with same stimulus

###  .html  HTML datasheet


**Introduction to Cell Characterization**


6


-----

![](Silvaco-stdcell-library-cz-methods.pdf-6-0.png)

## Input Data Files Required by Digital Design Tools (Generated by Other Tools)

###  .db Compiled technology libraries in Synopsys internal database

#### format

###  Synopsys Milkyway Files - Abstracts or Bounding Boxes
  Cadence Encounter Files - Abstracts or Bounding Boxes
  LEF
  DEF
  GDS


**Introduction to Cell Characterization**


7


-----

![](Silvaco-stdcell-library-cz-methods.pdf-7-0.png)

## Types of Standard Cell Libraries

###  There are often several cell libraries per semi process that typically

#### contain 100 to 1,000 cells including:

  Functions

######  Gates – inverter, AND, NAND, NOR, XOR, AOI, OAI
  Flops – Flip flops (D, RS, JK), Latches, Scan Flops, Gated Flops
  I/O Cells – Input pads, Output pads, Bidirectional Pads, Complex

####  Process Options

######  Mask layer options, gate shrinks, # of metals, special diffusions, thick metal,
 multiple oxides

####  Cell Options

######  Drive strengths, sets, resets, scans, substrate ties, antenna diodes

####  Optimized for Addressing Tradeoffs Between

######  High speed, high density, low power, low leakage, low voltage, low noise

###  Cell Libraries are Produced by Foundries, IP Vendors, Fabless and

#### IDMs


**Introduction to Cell Characterization**


8


-----

![](Silvaco-stdcell-library-cz-methods.pdf-8-0.png)

## Digital Circuit Representation – Inverter 


###### IEEE-1164 Verilog Logic States Strength  State  Value
 U Uninitialized
 Driven X Unknown
 Driven 0 Low
 Driven  1 High
 Z High impedance
 Resistive W  Weak X
 Resistive L  Weak 0
 Resistive H  Weak 1
 --  Don’t care


###### Inverter

 Rise/Fall Diagram


![](Silvaco-stdcell-library-cz-methods.pdf-8-0.png)

#### Verilog Language Description of Inverter not i1 (out, in); // basic inverter not #(5,3)i1 (out, in); // Rise=5ns, Fall=3ns


**Introduction to Cell Characterization**


9


-----

![](Silvaco-stdcell-library-cz-methods.pdf-9-1.png)

## Analog Circuit Description - Inverter 

###### Schematic Netlist

 *svc_inv.sch M3 y a gnd gnd nmos L=0.35u W=4.0u M2 y a vdd vdd pmos L=0.35u W=4.0u .END
 Transistor Inverter Schematic

 Schematic Netlist with Parasitics

 *svc_inv.sch M3 y a gnd gnd nmos L=0.35u W=4.0u M2 y a vdd vdd pmos L=0.35u W=4.0u C1 ….. C2 ….. C3 ….. .END


![](Silvaco-stdcell-library-cz-methods.pdf-9-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-9-0.png)

10


-----

![](Silvaco-stdcell-library-cz-methods.pdf-10-1.png)

## Input Views of Circuits – Bridging Analog and Digital

###  Timing back annotation for

#### Verilog simulator (gate, behavioral) Model must work in Verilog-XL, VCS, NCsim, Modelsim, SILOS

###  Methodology has limitations

#### on accuracy (load based only)

###  STA is preferred methodology


![](Silvaco-stdcell-library-cz-methods.pdf-10-0.png)

**Introduction to Cell Characterization**


11


-----

![](Silvaco-stdcell-library-cz-methods.pdf-11-1.png)

## Static Timing Analysis Use of Liberty Format 

###  In a standalone flow, STA operates independently of

#### characterization reading both a Verilog netlist and multiple timing libraries in Liberty format

  It can also read interconnect parasitic data in DSPF or SDF formats 


![](Silvaco-stdcell-library-cz-methods.pdf-11-0.png)

**Introduction to Cell Characterization**


12


-----

![](Silvaco-stdcell-library-cz-methods.pdf-12-0.png)

## Cell Characterization Attributes

###  Cell Library Attributes
  Measurements
  Cell Library Model Quality
  Liberty .lib File Structure
  Liberty .lib File Library Level Attributes
  Operating Conditions
  Cell Attributes in .lib File
  Datasheet View of AND2
  Pin Attributes
  Setting Output Load Limits


**Introduction to Cell Characterization**


13


-----

![](Silvaco-stdcell-library-cz-methods.pdf-13-0.png)

## Cell Library Attributes

###  Pin Types

####  direction
  function

###  Loads

####  Capacitive
  Active
  Fanout and wire loads

###  Stimulus

####  PWL for slope
  Active drivers

###  Indexes

####  Load
  Input slope

**Introduction to Cell Characterization**


pin (A) {
direction : output ;

function : "X + Y" ;

}


14


-----

![](Silvaco-stdcell-library-cz-methods.pdf-14-0.png)

## Measurements

###  Capacitance
  Thresholds/switching points
  Rise Time
  Fall Time
  Delay (propagation + transition = cell) (i.e. timing arcs)
  Power ( static state dependent leakage, dynamic, short-circuit,

#### hidden, internal ) (i.e. power arcs)


**Introduction to Cell Characterization**


15


-----

![](Silvaco-stdcell-library-cz-methods.pdf-15-0.png)

## Cell Library Model Quality

###  Accuracy to silicon over the required power supply voltage, load

#### range, input signal slope range

###  Completeness of characterization (state, types[rise/fall], indexes,

#### pins ) – all timing arcs are included

###  Conformance with digital tool format requirements (syntax, units,

#### thresholds)

###  Conformance with digital tool value constraints (monotonicity) and

#### multi-tool timing engine correlation

###  Model Efficiency - speed of execution of model in digital tool that

#### runs many times on large circuits using generated models

###  Characterization time efficiency – runs once but characterizing a

#### single flop can take hours

###  Minimum size of model file - .lib files can become huge, especially

#### with noise data


**Introduction to Cell Characterization**


16


-----

![](Silvaco-stdcell-library-cz-methods.pdf-16-1.png)

## Liberty .lib File Structure

**Introduction to Cell Characterization**



####  Structural information

######  Describes each cell’s connectivity to the
 outside world, including cell, bus, and pin descriptions.

####  Functional information

######  Describes the logical function of every
 output pin of every cell so that the digital design tools can map the logic of a design to the actual technology.

####  Timing information

######  Describes the parameters for pin-to-pin
 timing relationships and delay calculation for each cell in the library.

####  Environmental information

######  Describes the manufacturing process,
 operating temperature, supply voltage variations, and design layout, all of which directly affect the efficiency of every design.


![](Silvaco-stdcell-library-cz-methods.pdf-16-0.png)

17


-----

![](Silvaco-stdcell-library-cz-methods.pdf-17-1.png)

## Liberty .lib File Library Level Attributes

###### library (name) { technology (name) ;/* library-level attributes */
 delay_model : generic_cmos | table_lookup |
 cmos2 | piecewise_cmos | dcm |
 polynomial ;


###### bus_naming_style : string ;
 routing_layers(string);
 time_unit : unit ;
 voltage_unit : unit ;
 current_unit : unit ;
 pulling_resistance_unit : unit ;
 capacitive_load_unit(value,unit);
 leakage_power_unit : unit ;

#### Defines units for entire library


#### Default Units


![](Silvaco-stdcell-library-cz-methods.pdf-17-0.png)

**Introduction to Cell Characterization**


18


-----

![](Silvaco-stdcell-library-cz-methods.pdf-18-1.png)

## Operating Conditions

**Introduction to Cell Characterization**


###### name

  The name (WCCOM in the example)
 identifies the set of operating conditions
 process

  The scaling factor accounts for
 variations in the outcome of the actual semiconductor manufacturing steps. This factor is typically 1.0 for normal operating conditions
 temperature

  The ambient temperature in which the
 design is to operate 
 voltage

  The operating voltage of the design
 tree_type

  The definition for the environment
 interconnect model.
 power_rail

  The voltage value for a power supply


![](Silvaco-stdcell-library-cz-methods.pdf-18-0.png)

19


-----

![](Silvaco-stdcell-library-cz-methods.pdf-19-0.png)

## Cell Attributes in .lib File

###  Structure

####  The cell, bus, and pin structure that describes each cell’s connection to

###### the outside world.

###  Function

####  The logical function of every output pin of each cell that digital design

###### tools use to map the logic of a design to the actual technology.

###  Timing

####  Timing analysis and design optimization information, such as the

###### parameters for pin-to-pin timing relationships, delay calculations, and timing constraints for sequential cells.

###  Power

####  Modeling for state-dependent and path-dependent power

###  Other parameters

####  These parameters describe area and design rules. 


**Introduction to Cell Characterization**


20


-----

![](Silvaco-stdcell-library-cz-methods.pdf-20-2.png)

## Datasheet View of AND2

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-20-0.png)

21


![](Silvaco-stdcell-library-cz-methods.pdf-20-0.png)

-----

![](Silvaco-stdcell-library-cz-methods.pdf-21-0.png)

## Pin Attributes

######  direction

  Defines the direction of each pin. In the example on the previous page, A and B are
 defined as input pins and Z as an output pin

  capacitance

  Defines the input pin load (input capacitance) placed on the network. Load units should
 be consistent with other capacitance specifications throughout the library

  Typical units of measure for capacitance are picofarads and standardized loads

  function

  Defines the logic function of an output pin in terms of the cell’s input or inout pins. In the
 example, the function of pin Z is defined as the logical AND of pins A and B

  timing

  Describes timing groups. The timing groups describe the following:

  - A pin-to-pin delay
  - A timing constraint such as setup and hold

  In the example, the timing group for pin Z describes the delays between pin Z and pins A
 and B


**Introduction to Cell Characterization**


22


-----

![](Silvaco-stdcell-library-cz-methods.pdf-22-0.png)

## Setting Output Load Limits

###  fanout_load

######  Specifies how much to add to the fanout on the net

###  max_fanout

######  Specifies the maximum number of loads a pin can drive

###  max_transition

######  Specifies the maximum rise or fall transition time on an output due to total capacitive load

###  max_capacitance

######  Specifies the maximum total capacitive load that an output pin can drive

###  min_fanout

######  Specifies the minimum number of loads that a pin can drive

###  min_capacitance

######  Specifies the minimum total capacitive load that an output pin can drive


**Introduction to Cell Characterization**


23


-----

![](Silvaco-stdcell-library-cz-methods.pdf-23-0.png)

## Delay Modeling 

###  Total Delay Equation
  Total Delay Scaling
  Slope Delay
  Slew Modeling
  Intrinsic and Transition Delays
  Connect Delay
  Interconnect Delay

**Introduction to Cell Characterization**


24


-----

![](Silvaco-stdcell-library-cz-methods.pdf-24-1.png)

## Total Delay Equation

**Introduction to Cell Characterization**



###  Dtotal = DI + DS + DC + DT
  DI

#####  Intrinsic delay inherent in the

###### gate and independent of

#####  particular instantiation

###  DS

#####  Slope delay caused by the

###### ramp time of the input signal

###  DC

#####  Connect media delay to an

###### input pin (wire delay)

###  DT

#####  Transition delay caused by

###### loading of the output pin


![](Silvaco-stdcell-library-cz-methods.pdf-24-0.png)

25


-----

![](Silvaco-stdcell-library-cz-methods.pdf-25-1.png)

## Total Delay Scaling

###  When calculating total delay, the digital tool scales each parameter of

#### Dtotal individually.

###  Each component of the total delay has its own global parameters to

#### model the effects on the nominal case of variations in process, temperature, and voltage.

###### *Total Delay is typically measured from 50% to 50%, regardless of where transition thresholds are set


![](Silvaco-stdcell-library-cz-methods.pdf-25-0.png)

**Introduction to Cell Characterization**


26


-----

![](Silvaco-stdcell-library-cz-methods.pdf-26-0.png)

## Slope Delay

######  The slope delay of an element (DS) is the incremental time delay caused by slowly changing
 input signals. This is not used by AccuCell

  In some technologies, this delay is a strong function of the ramp time
  D is calculated with the transition delay at the previous output pin, plus a slope sensitivity
 factor, as shown here: DS = DT(prevstage)

  This equation calculates both the rise and fall delays. Where applicable, use the “rise”
 parameter to calculate the rise delay and the “fall” parameter to calculate the fall delay

  DS

  Transition delay is calculated at the previous stage of logic. Therefore, the calculation of
 DS enforces a global order on local analysis

  SS

  Slope sensitivity factor. This factor accounts for the time during which the input voltage
 begins to rise but has not reached the threshold level at which channel conduction begins. The attributes that define it in the timing group of the driving pin are slope_rise and slope_fall

  DT(prevstage)

  The transition delay calculated at the previous output pin 


**Introduction to Cell Characterization**


27


-----

![](Silvaco-stdcell-library-cz-methods.pdf-27-1.png)

## Slew Modeling

**Introduction to Cell Characterization**



####  Slew is the time it takes for

###### the voltage value to fall or rise between two designated threshold points on an input, an output, or a bidirectional port

####  The designated threshold

###### points must fall within a voltage falling from 1 to 0 or rising from 0 to 1


![](Silvaco-stdcell-library-cz-methods.pdf-27-0.png)

28


-----

![](Silvaco-stdcell-library-cz-methods.pdf-28-0.png)

## Intrinsic and Transition Delays

###  Intrinsic Delay

####  The intrinsic delay of a circuit element (DI) is the portion of the total

###### delay that is independent of the circuit element’s usage. This portion is the fixed (or zero load) delay from the input pin to the output pin of a circuit element.

###  Transition Delay

####  The transition delay of a circuit element is the time it takes the driving

###### pin to change state. The transition time of the output pin on a net is a function of the capacitance of all pins on the net and the capacitance of the interconnect network that ties the pins together.

  This equation calculates the rise and fall delays.


**Introduction to Cell Characterization**


29


-----

![](Silvaco-stdcell-library-cz-methods.pdf-29-1.png)

## Connect Delay

**Introduction to Cell Characterization**



####  The connect delay of an

###### element (DC) is the time it takes the voltage at an input pin to charge after the driving output pin has made a transition

####  This delay is also known as

###### time-of-flight delay, which is the time it takes a waveform to travel along a wire


![](Silvaco-stdcell-library-cz-methods.pdf-29-0.png)

30


-----

![](Silvaco-stdcell-library-cz-methods.pdf-30-1.png)

## Interconnect Delay

**Introduction to Cell Characterization**



####  Interconnect delay is defined as the

###### delay caused by connect delay and fanout 

  It is calculated as the sum of DT and
 DC

####  Include the capacitance attribute in

###### the pin group of the input pin

####  Give zero capacitance to the pin

###### group of the output pin

####  Resistance is attributed entirely to the

###### output pin


![](Silvaco-stdcell-library-cz-methods.pdf-30-0.png)


#### 

###### 

#### 


31


![](Silvaco-stdcell-library-cz-methods.pdf-30-0.png)

-----

![](Silvaco-stdcell-library-cz-methods.pdf-31-0.png)

## Timing Arcs

###  Timing Arc Concepts
  Combinational Timing Arcs
  Sequential Timing Arcs
  Timing Arcs Between Single and Multiple Pins
  Three-State Timing Arcs
  Edge-Sensitive Timing Arcs
  Preset Arcs
  Clear Arcs
  Defining Delay Arcs With Lookup Tables


**Introduction to Cell Characterization**


32


-----

![](Silvaco-stdcell-library-cz-methods.pdf-32-0.png)

## Timing Arc Concepts

###  Timing arcs can be delay arcs or constraint arcs
  Each timing arc has a startpoint and an endpoint
  The startpoint can be an input, output, or inout pin
  The endpoint is always an output pin or an inout pin
  The only exception is a constraint timing arc, such as a setup, hold,

#### recovery or removal constraint between two input pins

###  related_pin

####  This attribute defines the pin or pins representing the startpoint of a

###### timing arc


**Introduction to Cell Characterization**


33


-----

![](Silvaco-stdcell-library-cz-methods.pdf-33-0.png)

## Timing Arc Concepts (cont’d)

###  All delay information in a library refers to an input-to-output pin pair

#### or an output-to-output pin pair defined as:

  intrinsic delay

######  The fixed delay from input to output pins

####  transition delay

######  The time it takes the driving pin to change state. Transition delay attributes
 represent the resistance encountered in making logic transitions

####  slope sensitivity

######  The incremental time delay due to slow change of input signals


**Introduction to Cell Characterization**


34


-----

![](Silvaco-stdcell-library-cz-methods.pdf-34-0.png)

## Combinational Timing Arcs

###  A combinational timing arc describes the timing characteristics of a

#### combinational element

  The timing arc is attached to an output pin, and the related pin is either

###### an input or an output

  AccuCell does not use these

###  A combinational timing arc is of one of the following types:



######  combinational
  combinational_rise
  combinational_fall
  three_state_disable
  three_state_disable_rise
  three_state_disable_fall
  three_state_enable
  three_state_enable_rise
  three_state_enable_fall

**Introduction to Cell Characterization**


###### AND Gate With Timing Arc

 XOR Gate With State-Dependent Timing Arc


![](Silvaco-stdcell-library-cz-methods.pdf-34-0.png)

35


![](Silvaco-stdcell-library-cz-methods.pdf-34-0.png)

###### AND Gate With Timing Arc


-----

![](Silvaco-stdcell-library-cz-methods.pdf-35-0.png)

## Sequential Timing Arcs

###  A sequential timing arc is of one of the following types:

####  Edge-sensitive (rising_edge or falling_edge)
  Preset or clear
  Setup or hold (setup_rising, setup_falling, hold_rising, or hold_falling)
  Nonsequential setup or hold (non_seq_setup_rising,

###### non_seq_setup_falling, non_seq_hold_rising, non_seq_hold_falling)

####  Recovery or removal (recovery_rising, recovery_falling, removal_rising,

###### or removal_falling)

####  No change (nochange_high_high, nochange_high_low,

###### nochange_low_high, nochange_low_low)


**Introduction to Cell Characterization**


36


-----

![](Silvaco-stdcell-library-cz-methods.pdf-36-2.png)

## Timing Arcs Between Single and Multiple Pins

###### Pin and a Single Related Pin Pin and Multiple Related Pins

 *Timing Arcs can also be between pins, groups, and busses


![](Silvaco-stdcell-library-cz-methods.pdf-36-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-36-0.png)

37


-----

![](Silvaco-stdcell-library-cz-methods.pdf-37-0.png)

## Three-State Timing Arcs

###  Assign related_pin to the enable pin of the three-state function
  Define the Z-to-1 propagation time with the intrinsic_rise statement
  Define the Z-to-0 propagation time with the intrinsic_fall statement
  Include the timing_type : three_state_enable statement


![](Silvaco-stdcell-library-cz-methods.pdf-37-0.png)

**Introduction to Cell Characterization**


38


-----

![](Silvaco-stdcell-library-cz-methods.pdf-38-0.png)

## Edge-Sensitive Timing Arcs

###  Edge-sensitive timing arcs, such as the arc from the clock on a

#### flipflop, are identified by the following values of the timing_type attribute in the timing group

###  rising_edge

####  Identifies a timing arc whose output pin is sensitive to a rising signal at

###### the input pin

###  falling_edge

####  Identifies a timing arc whose output pin is sensitive to a falling signal at

###### the input pin

###  These arcs are path-traced; the path tracer propagates only the

#### active edge (rise or fall) path values along the timing arc


**Introduction to Cell Characterization**


39


-----

![](Silvaco-stdcell-library-cz-methods.pdf-39-0.png)

## Preset Arcs

###  Select

####  timing_type : preset;
  timing_sense : 

###  positive_unate

####  Indicates that the rise arrival time of the arc’s source pin is used to

###### calculate the arc’s delay

  This calculation produces the rise arrival time on the arc’s endpoint pin
  In the case of slope delays, the source pin’s rise transition time is added to
 the arc’s delay

  The source pin is active-high


**Introduction to Cell Characterization**


40


-----

![](Silvaco-stdcell-library-cz-methods.pdf-40-0.png)

## Preset Arcs (cont’d)

###  negative_unate

####  Indicates that the fall arrival time of the arc’s source pin is used to

###### calculate the arc’s delay

  This calculation produces the rise arrival time on the arc’s endpoint pin
  In the case of slope delays, the source pin’s fall transition time is added to the
 arc’s delay

  The source pin is active-low

###  non_unate

####  Indicates that the maximum of the rise and fall arrival times of the arc’s

###### source pin is used to calculate the arc’s delay

####  This calculation produces the maximum arrival time on the arc’s

###### endpoint pin 

####  In the case of slope delays, the maximum of the source pin’s rise and

###### fall transition times is added to the arc’s delay


**Introduction to Cell Characterization**


39


-----

![](Silvaco-stdcell-library-cz-methods.pdf-41-0.png)

## Clear Arcs

###  Clear arcs affect only the fall arrival time of the arc’s endpoint pin

####  A clear arc means that you are asserting a logic 0 on the output pin

###### when the designated related_pin is asserted

###  Select

####  timing_type : clear;
  timing_sense : 

###  positive_unate

####  Indicates that the fall arrival time of the arc’s source pin is used to

###### calculate the arc’s delay

  This calculation produces the fall arrival time on the arc’s endpoint pin
  In the case of slope delays, the source pin’s fall transition time is added to the
 arc’s delay

  The source pin is active-low


**Introduction to Cell Characterization**


42


-----

![](Silvaco-stdcell-library-cz-methods.pdf-42-0.png)

## Clear Arcs (cont’d)

###  negative_unate

####  Indicates that the rise arrival time of the arc’s source pin is used to

###### calculate the arc’s delay

  This calculation produces the fall arrival time on the arc’s endpoint pin
  In the case of slope delays, the source pin’s rise transition time is added to
 the arc’s delay

  The source pin is active-high

###  non_unate

####  Indicates that the maximum of the rise and fall arrival times of the arc’s

###### source pin is used in calculating the arc’s delay

  This calculation produces the maximum fall arrival time on the arc’s endpoint
 pin 

  In the case of slope delays, the maximum of the source pin’s rise and fall
 transition times is added to the arc’s delay


**Introduction to Cell Characterization**


41


-----

![](Silvaco-stdcell-library-cz-methods.pdf-43-0.png)

## Defining Delay Arcs With Lookup Tables

###  Transition time is the time it takes for an output signal to make a

#### transition between the high and low logic states. With nonlinear delay models, it is computed by table lookup and interpolation. Transition delay is a function of capacitance at the output pin and input transition time.

###  Group attributes:



####  cell_rise
  cell_fall
  rise_propagation
  fall_propagation
  retaining_rise
  retaining_fall
  retain_rise_slew
  retain_fall_slew

**Introduction to Cell Characterization**


###### To specify cell delay independently of transition delay,use one of these timing group attributes as your lookup table:

 To specify transition delay as a term in the total cell delay, use one of these timing group attributes as your lookup table

44


-----

![](Silvaco-stdcell-library-cz-methods.pdf-44-0.png)

## Lookup Table Templates

###  Defining Lookup Table Templates
  Assigning Values to Lookup Tables

**Introduction to Cell Characterization**


45


-----

![](Silvaco-stdcell-library-cz-methods.pdf-45-1.png)

## Defining Lookup Table Templates

###  CMOS Nonlinear Delay Model is specified by a one or two

#### dimensional table of delay values dependent on input net transition and output capacitance


![](Silvaco-stdcell-library-cz-methods.pdf-45-0.png)

**Introduction to Cell Characterization**


46


-----

![](Silvaco-stdcell-library-cz-methods.pdf-46-2.png)

## Assigning Values to Lookup Tables 

####  Referring to tables defined in

###### previous slide

####  Pin a is two dimensional 4X4
  Pin b is one dimensional X4
  These timing values are the

###### results of SmartSpice .MEASURE statements within AccuCell


![](Silvaco-stdcell-library-cz-methods.pdf-46-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-46-0.png)

47


-----

![](Silvaco-stdcell-library-cz-methods.pdf-47-0.png)

## Timing Constraints 

###  Timing Constraint Concepts
  Setup and Hold Constraints
  Non Sequential Setup and Hold Constraints
  Recovery Timing Constraints
  Removal Timing Constraints 
  .lib of State Table Flip Flop
  .lib of Type ff D Flip Flop


**Introduction to Cell Characterization**


48


-----

![](Silvaco-stdcell-library-cz-methods.pdf-48-0.png)

## Timing Constraint Concepts

###  setup and hold arcs

####  Set these constraints to ensure that a data signal has stabilized, before

###### latching its value

###  recovery and removal arcs

####  Use the recovery timing arc and the removal timing arc for

###### asynchronous control pins such as clear and preset

###  skew

####  This is another constraint that the VHDL library generator uses for

###### simulation.

###  You can also set state-dependent and conditional constraints


**Introduction to Cell Characterization**


49


-----

![](Silvaco-stdcell-library-cz-methods.pdf-49-2.png)

## Setup and Hold Constraints

#### Setup and Hold Constraints for Rising-Edge-Triggered Flip-Flop

 Setup and Hold Constraints for High-Enable Latch


![](Silvaco-stdcell-library-cz-methods.pdf-49-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-49-0.png)

50


-----

![](Silvaco-stdcell-library-cz-methods.pdf-50-1.png)

## Non Sequential Setup and Hold Constraints

###  In some nonsequential cells, the setup and hold timing constraints

#### are specified on the data pin with a nonclock pin as the related pin

###  The signal of a pin must be stable for a specified period of time

#### before and after another pin of the same cell range state for the cell to function as expected

 Nonsequential Setup and Hold Constraints


![](Silvaco-stdcell-library-cz-methods.pdf-50-0.png)

**Introduction to Cell Characterization**


47


-----

![](Silvaco-stdcell-library-cz-methods.pdf-51-2.png)

## Recovery Timing Constraints

###### Recovery Timing Constraint for a Rising-Edge-Triggered Flip-Flop

 Recovery Timing Constraint for a Low-Enable Latch


![](Silvaco-stdcell-library-cz-methods.pdf-51-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-51-0.png)

52


-----

![](Silvaco-stdcell-library-cz-methods.pdf-52-1.png)

## Removal Timing Constraints 

###### Timing Diagram for Removal Constraint

 No-Change Timing Check



######  Removal Constraint

  This constraint is also known as the
 asynchronous control signal hold time.

  The removal constraint describes the
 minimum allowable time between the active edge of the clock pin while the asynchronous pin is active and the inactive edge of the same asynchronous control pin

  No-Change Timing Constraints

  You can model no-change timing checks to
 use in static timing verification during synthesis

  A no-change timing check checks a
 constrained signal against a level-sensitive related signal

  The constrained signal must remain stable
 during an established setup period, for the width of the related pulse, and during an established hold period


![](Silvaco-stdcell-library-cz-methods.pdf-52-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-52-0.png)

49


-----

![](Silvaco-stdcell-library-cz-methods.pdf-53-3.png)

## .lib of State Table Flip Flop

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-53-0.png)

![](Silvaco-stdcell-library-cz-methods.pdf-53-1.png)

54


![](Silvaco-stdcell-library-cz-methods.pdf-53-0.png)

-----

![](Silvaco-stdcell-library-cz-methods.pdf-54-2.png)

## .lib of Type ff D Flip Flop

####  The ff group statement replaces the

###### statetable group statement

####  The function attribute, rather than the

###### internal_node attribute, defines the output pin’s function

####  The D flip-flop defines two variables, IQ

###### and IQN

####  The next_state equation determines the

###### value of IQ after the next clocked_on transition

####  In this example IQ is assigned the

###### value of the D input 


![](Silvaco-stdcell-library-cz-methods.pdf-54-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-54-0.png)

51


-----

![](Silvaco-stdcell-library-cz-methods.pdf-55-0.png)

## Power Modeling 

###  Components of Power Dissipation
  Power Modeling Concepts
  State Dependent Leakage Power
  Modeling Internal Power Lookup Tables
  Internal Power Calculations
  Clock Pin Power
  Output Pin Power
  Power Lookup Tables Descriptions 1D, 2D, 3D
  Internal Power Table for Cell Output
  Calculating Switching Power
  Switching Power Calculations
  Syllabus for Advanced Cell Characterization


**Introduction to Cell Characterization**


56


-----

![](Silvaco-stdcell-library-cz-methods.pdf-56-2.png)

## Components of Power Dissipation


![](Silvaco-stdcell-library-cz-methods.pdf-56-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-56-0.png)

57


-----

![](Silvaco-stdcell-library-cz-methods.pdf-57-0.png)

## Power Modeling Concepts

###  Leakage Power

####  Leakage power is the static (or quiescent) power dissipated when a

###### gate is not switching

###  Short-Circuit Power

####  Short-circuit or internal power is the power dissipated whenever a pin

###### makes a transition

  This can be handled in two ways:

  Include the effect of the output capacitance in the internal_power group
 (defined in a pin group within a cell group), which gives the output pins zero capacitance 

  Give the output pins a real capacitance, which causes them to be included in
 the switching power, and model only the short-circuit power as the cell’s internal power (in the internal_power group)


**Introduction to Cell Characterization**


58


-----

![](Silvaco-stdcell-library-cz-methods.pdf-58-0.png)

## Power Modeling Concepts (cont’d)

###  Switching Power

####  Switching (or interconnect) power is the power dissipated in the circuit

###### as a result of a logical transition of the capacitive load

####  Switching power (along with internal power) is used to compute the

###### design’s total dynamic power dissipation


**Introduction to Cell Characterization**


59


-----

![](Silvaco-stdcell-library-cz-methods.pdf-59-0.png)

## State Dependent Leakage Power



####  Leakage power is state

###### dependent based on input pin state values


![](Silvaco-stdcell-library-cz-methods.pdf-59-0.png)

![](Silvaco-stdcell-library-cz-methods.pdf-59-1.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-59-0.png)

60


-----

![](Silvaco-stdcell-library-cz-methods.pdf-60-0.png)

## Modeling Internal Power Lookup Tables

###  You should measure the energy dissipated by varying either input

#### voltage transition or output load while holding the other constant

###  Because a table indexed by T input transition times and C output

#### load capacitances has TxC entries, the cell’s internal power must be characterized TxC times, once for each input transition time and output load capacitance combination

###  For example, if internal power will be modeled by use of a 3x3

#### table at the output of the cell, the design will have 9 input voltage transitions—output load combinations where energy dissipation must be measured

###  The library group supports a one-, two-, or three-dimensional

#### internal power lookup table indexed by the total output load capacitances (best model), the input transition time, or both

###  NOTE: The input pin power is added to the output pin power

####  When you model the library, avoid double counting


**Introduction to Cell Characterization**


61


-----

![](Silvaco-stdcell-library-cz-methods.pdf-61-1.png)

## Modeling Internal Power Lookup Tables

###### Power is calculated by integrating energy


![](Silvaco-stdcell-library-cz-methods.pdf-61-0.png)

**Introduction to Cell Characterization**


62


-----

![](Silvaco-stdcell-library-cz-methods.pdf-62-0.png)

## Internal Power Calculations

###  To calculate the internal power for cell U1, use the following

#### equation:

  PInt

######  Total internal power for the cell.

####  E

######  Internal energy for the pin.

####  AF

######  Activity factor.

###  Accurate sequential modeling requires a separate table for the

#### clock and for the output pin the clock controls

  The two tables are used to ensure that clock pin power and output

###### power are accounted for separately, because a clock pin often toggles without causing any observable state change on the output pin


**Introduction to Cell Characterization**


63


-----

![](Silvaco-stdcell-library-cz-methods.pdf-63-0.png)

## Clock Pin Power

###  This energy is characterized by simulation of a single full cycle

#### (one rise transition and one fall transition) of the clock, with no transition at the output and input pins

  A one-dimensional internal power table indexed by input transition time

###### should be attached to the clock pin

####  Total energy dissipated in the cell during this simulation is measured. If

###### separate rise and fall power modeling is not used, the energy measured must be divided by 2 to get the energy dissipated by the clock pin transition, because the measurement is done for two transitions of the clock

###  Clk_Pin_Energy = Clk_Total / 2
  Add Clk_Pin_Energy as an entry indexed by input transition time in

#### the one-dimensional internal power table attached to the clock pin


**Introduction to Cell Characterization**


64


-----

![](Silvaco-stdcell-library-cz-methods.pdf-64-0.png)

## Output Pin Power

###  This power is characterized by simulation of two full cycles of the

#### clock, with two rise and fall transitions at the output

  A two-dimensional internal power table should be attached to the output

###### pin

####  Total energy dissipated in the cell during the two-full-cycle simulation

###### (Out_total) is measured 

####  If separate rise and fall power modeling is not used, the energy

###### measured must be divided by 2, because the measurement is done for two transitions.

###  Output_Pin_Energy = (Out_total)/2 - 2*(Clk_Pin_Energy)


**Introduction to Cell Characterization**


65


-----

![](Silvaco-stdcell-library-cz-methods.pdf-65-2.png)

## Power Lookup Tables Descriptions 1D, 2D, 3D

####  The example at left shows

###### shows four power_lut_template groups that have one-, two-, or three-dimensional templates

####  The index values are lists of

###### floating-point numbers greater than or equal to 0.0

####  The values in the list must be in

###### increasing order

####  The number of floating-point

###### numbers in the indexes determines the size of each dimension


![](Silvaco-stdcell-library-cz-methods.pdf-65-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-65-0.png)


- 66 

-----

![](Silvaco-stdcell-library-cz-methods.pdf-66-2.png)

## Internal Power Table for Cell Output


![](Silvaco-stdcell-library-cz-methods.pdf-66-0.png)

**Introduction to Cell Characterization**


![](Silvaco-stdcell-library-cz-methods.pdf-66-0.png)

67


-----

![](Silvaco-stdcell-library-cz-methods.pdf-67-0.png)

## Calculating Switching Power

###  Switching (or interconnect) power is the power dissipated in the

#### circuit as a result of a logical transition of the capacitive load

###  With internal power, switching power is used to compute the

#### design’s total dynamic power dissipation

###  Switching power information is a function of a net’s capacitive

#### loading, associated clock frequency, and the supply voltage level of the design

###  An explicit units attribute is not required for switching power,

#### because the units are implicitly determined by the units of the voltage, time, and capacitance attributes


![](Silvaco-stdcell-library-cz-methods.pdf-67-0.png)

**Introduction to Cell Characterization**


68


-----

![](Silvaco-stdcell-library-cz-methods.pdf-68-1.png)

## Switching Power Calculations

###  For a single net with a total load of 100 femtofarad, a toggle rate of

#### two transitions every 100 ns, and a supply voltage of 5 volts, the calculation of the net’s power dissipation is:

  TR

######  Toggle rate (number of toggles per unit of time)

####  CLoad

######  Capacitive load of each net


![](Silvaco-stdcell-library-cz-methods.pdf-68-0.png)

**Introduction to Cell Characterization**


69


-----

![](Silvaco-stdcell-library-cz-methods.pdf-69-0.png)

## Syllabus for Advanced Cell Characterization

###  Review of Introduction to Cell Characterization
  Latches
  Scan Flop
  Gated Clocks
  Definition of I/O cell terms
  Example of I/O Cell
  Active Loads
  Active Drivers
  Derating factors, K factors
  Verilog Timing Checks
  Noise Considerations (CCS, ECSM)


**Introduction to Cell Characterization**


70


-----

