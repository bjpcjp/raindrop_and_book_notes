1. **Q:** Explain how an ideal N-bit DAC's output voltage is computed from its digital input codes, reference voltages, and the least significant bit (LSB). Illustrate how this is implemented in SPICE and the purpose of using voltage-controlled switches for logic level generation.  
   **A:** The ideal DAC output voltage is given by the formula \( V_{OUT} = \frac{V_{REF+} - V_{REF-}}{2^N} \times \left( \sum_{i=0}^{N-1} b_i 2^i \right) + V_{REF-} \), where \(b_i\) are the digital input bits. In SPICE, this is implemented using a nonlinear dependent B source that calculates the weighted sum of the bits scaled by the LSB. Because input digital signals may have poorly defined logic levels, voltage-controlled switches with a trip voltage at \(V_{DD}/2\) convert analog voltage levels into logic "1" (1 V) or "0" (0 V) to drive the DAC input bits properly.  
   **External example:** TI’s DAC datasheet explains ideal DAC operation and SPICE modeling of DACs with logic level considerations: https://www.ti.com/lit/an/sloa049a/sloa049a.pdf

2. **Q:** How does the ideal ADC described use a pipeline algorithm to generate its output bits, and why is a 1/2 LSB level shift applied in its implementation?  
   **A:** The ADC samples and holds the input, then in each stage compares the held voltage to a reference. If the input exceeds the reference, the output bit is set to 1, the reference voltage is subtracted, and the difference is doubled for the next stage. Otherwise, the output bit is 0 and the input value is doubled directly for the next stage. A 1/2 LSB left shift in the transfer characteristic is applied to align the quantizer thresholds properly, improving linearity by centering quantization intervals and implemented in SPICE by level-shifting the sampled voltage by \(((V_{REF+}-V_{REF-}) / 2^{N+1})\).  
   **External example:** Analog Devices explains pipeline ADC quantization and the importance of half-LSB shifts for linearity: https://www.analog.com/media/en/training-seminars/tutorials/MT-021.pdf

3. **Q:** Describe the effect on frequency response when using a counter as a Sinc-shaped digital filter with 1-bit input and explain the phenomenon of aliasing in this context.  
   **A:** The counter sums K input samples and outputs once every K clock cycles, resulting in a lowpass Sinc-shaped frequency response with its magnitude given by \( |H(f)| = K \cdot | \text{sinc}(K \frac{f}{f_s}) | \). The response exhibits significant attenuation at multiples of \(f_s/K\). Aliasing occurs because decimation by K lowers the output sampling rate, causing folded spectral components from frequencies like \(f_s/2\) to overlap into the DC band, as with an input 101010... causing the output to be constant due to aliasing.  
   **External example:** The aliasing effects in decimated counters are described in IEEE Signal Processing Letters: https://ieeexplore.ieee.org/document/4650950

4. **Q:** Explain the design and behavior of lowpass Sinc filters implemented by cascading comb filters with integrators, including how the bandwidth is related to clock frequency and filter order.  
   **A:** Lowpass Sinc filters are designed by cascading a comb filter \(H(z) = (1 - z^{-K})/(1 - z^{-1})\) with an integrator, yielding a Sinc-shaped response. The filter bandwidth (at -3.9 dB droop) is approximately \(B = \frac{f_s}{2K}\). Cascading L such sections raises the filter order to \(L\), improving attenuation with a main lobe attenuation of approximately 13 dB for \(K=8\). The word size in the output grows by \(N + L \log_2 K\) bits where N is the input word size.  
   **External example:** The design of Cascaded Integrator-Comb (CIC) filters with bandwidth relations is explained in TI’s DSP Guide: https://www.ti.com/lit/an/slaa270b/slaa270b.pdf

5. **Q:** How can zeros of comb filters be canceled using digital resonators to create bandpass or highpass Sinc-shaped filters, and what is the significance of selecting resonator frequencies like \(f_s/4\)?  
   **A:** By cascading comb filters with digital resonators (implemented as second-order difference equations), zeros of the comb filter transfer function are canceled at desired frequencies within the unit circle, creating bandpass or highpass Sinc filters. For example, canceling the zero at \(f_s/2\) yields a highpass filter; canceling zeros at \(f_s/4\) and \(3f_s/4\) creates a bandpass filter centered at \(f_s/4\). Resonator frequencies like \(f_s/4\) are chosen so the coefficient cosines are simple values (e.g., 0), enabling multiplier-free implementations with only delays and additions.  
   **External example:** The use of digital resonators for zero cancellation in bandpass filters is documented by Stanford DSP Lecture Notes: https://ccrma.stanford.edu/~jos/mdft/Comb_Filter.html

6. **Q:** Compare the operation and characteristics of interpolation and decimation using cascaded Sinc filters in mixed-signal systems, focusing on clock rates, word sizes, and filter attenuation.  
   **A:** Interpolators increase the clock rate by factor K, passing the input through L cascaded Sinc filter sections clocked at \(f_s\) (input rate) and \(Kf_s\) (output rate). Output word size increases by \(L(1 + \log_2 K)\) bits, with attenuation following \(H(f) = \left|\frac{\sin(\pi K f/f_s)}{\sin(\pi f/f_s)}\right|^L\). Decimators reduce the clock rate by factor K, applying lowpass filtering before downsampling; similar Sinc cascades are used with word size growing by L bits per stage. Interpolation fights imaging while decimation fights aliasing; increasing L improves suppression of unwanted spectral components.  
   **External example:** Multirate signal processing including polyphase decimators and interpolators is covered in Oppenheim & Schafer: https://web.stanford.edu/class/ee261/PolyphaseDecimators.pdf

7. **Q:** Discuss the stability conditions for recursive digital filters with poles on or near the unit circle, and describe overflow handling techniques implemented in digital integrators.  
   **A:** Recursive digital filters are stable only if all poles reside strictly inside the unit circle; poles on the unit circle can cause instability due to rounding or finite word-length effects. Overflow in recursive filters can cause the output to roll over (wrap-around). To prevent this, integrators are modified with saturation or clamping logic that locks the output at its maximum or minimum value upon overflow detection, determined by monitoring sign bits of inputs and outputs to avoid sign inconsistencies indicative of overflow. This prevents instability at the cost of mild nonlinearities.  
   **External example:** Overflow and stability in digital filters with saturation is addressed in IEEE Transactions on Circuits and Systems: https://ieeexplore.ieee.org/document/1371408

8. **Q:** Explain the structure and z-domain transfer function of a first-order bilinear digital filter in canonic form, and how its parameters relate to analog filter equivalents.  
   **A:** The canonic first-order bilinear digital filter uses one delay element and two multipliers corresponding to the numerator and denominator coefficients, expressed as \(H(z) = \frac{B_0 + B_1 z^{-1}}{1 - A_1 z^{-1}}\). Its parameters \(A_1, B_0, B_1\) are chosen to match analog filter properties with \(f_{3dB,pole} = \frac{f_s}{2\pi}\arccos(-A_1)\) and zero frequency \(f_{3dB,zero} = \frac{f_s}{2\pi}\arccos\left(1 - \frac{2 B_0}{B_0+B_1}\right)\), ensuring the discrete filter approximates the analog response at frequencies well below sampling \(f \ll f_s\).  
   **External example:** Bilinear transform and filter canonic forms are detailed in the DSP Handbook by Rabiner: https://ieeexplore.ieee.org/document/940964

9. **Q:** How are digital biquad filters structured and parameterized, and how can their transfer functions be used to design filters with desired center frequency and quality factor (Q)?  
   **A:** Digital biquad filters are second-order IIR filters with transfer function \(H(z) = \frac{B_0 + B_1 z^{-1} + B_2 z^{-2}}{1 - A_1 z^{-1} - A_2 z^{-2}}\). Parameters \(B_i, A_i\) are calculated from analog prototype parameters using bilinear transform approximations, allowing control over the filter’s center frequency \(f_0\) and Q-factor through relationships like \(f_0 = \frac{f_s}{2\pi} \arccos(-A_1/2)\) and \(Q = \frac{f_0}{f_{BW}}\). Proper choice of coefficients yields lowpass, highpass, bandpass, or notch characteristics with sharper frequency selectivity than Sinc filters.  
   **External example:** Biquad filter design with Q-factor control is described by the DSP Tutorial at Texas Instruments: https://www.ti.com/lit/an/slyt281/slyt281.pdf

10. **Q:** Why do Sinc-shaped filters exhibit droop and limited attenuation sharpness, and how can digital biquad filters be designed to compensate for these deficiencies?  
    **A:** Sinc-shaped filters inherently exhibit amplitude droop and limited stopband attenuation due to their sinc frequency response derived from rectangular time-domain weighting, causing gradual roll-off and sidelobes. Digital biquad filters can be designed with tailored poles and zeros to provide sharper cutoff and adjustable peaking, thus compensating droop and improving selectivity. For example, introducing specific biquad coefficients yields higher Q and controlled peaking near passband edges, enhancing frequency response flexibility.  
    **External example:** Comparison of Sinc filters and biquad compensations in audio DSP is explored in the Audio Engineering Society papers: https://www.aes.org/e-lib/browse.cfm?elib=6598
