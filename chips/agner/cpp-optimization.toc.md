```markdown
# Table of Contents

- 1 Introduction .................................................................................................... 3  
  - 1.1 The costs of optimizing ........................................................................ 4  
- 2 Choosing the optimal platform ..................................................................... 5  
  - 2.1 Choice of hardware platform .................................................................. 5  
  - 2.2 Choice of microprocessor .................................................................... 6  
  - 2.3 Choice of operating system ................................................................... 6  
  - 2.4 Choice of programming language ........................................................ 7  
  - 2.5 Choice of compiler ............................................................................... 9  
  - 2.6 Choice of function libraries ............................................................... 11  
  - 2.7 Choice of user interface framework ................................................... 13  
  - 2.8 Overcoming the drawbacks of the C++ language ............................. 13  
- 3 Finding the biggest time consumers .......................................................... 15  
  - 3.1 How much is a clock cycle? .................................................................. 15  
  - 3.2 Use a profiler to find hot spots ........................................................... 15  
  - 3.3 Program installation ............................................................................ 17  
  - 3.4 Automatic updates ............................................................................... 18  
  - 3.5 Program loading ................................................................................... 18  
  - 3.6 Dynamic linking and position-independent code ............................... 19  
  - 3.7 File access ........................................................................................... 19  
  - 3.8 System database .................................................................................. 19  
  - 3.9 Other databases ................................................................................... 20  
  - 3.10 Graphics ............................................................................................. 20  
  - 3.11 Other system resources ....................................................................... 20  
  - 3.12 Network access .................................................................................. 20  
  - 3.13 Memory access.................................................................................... 21  
  - 3.14 Context switches ............................................................................... 21  
  - 3.15 Dependency chains ............................................................................. 21  
  - 3.16 Execution unit throughput .................................................................. 21  
- 4 Performance and usability ............................................................................ 22  
- 5 Choosing the optimal algorithm ................................................................... 23  
- 6 Development process .................................................................................. 24  
- 7 The efficiency of different C++ constructs ............................................... 25  
  - 7.1 Different kinds of variable storage ..................................................... 25  
  - 7.2 Integers variables and operators ....................................................... 28  
  - 7.3 Floating point variables and operators ............................................... 31  
  - 7.4 Enums .................................................................................................. 33  
  - 7.5 Booleans ............................................................................................. 33  
  - 7.6 Pointers and references ...................................................................... 35  
  - 7.7 Function pointers ................................................................................ 37  
  - 7.8 Member pointers .................................................................................. 37  
  - 7.9 Smart pointers ..................................................................................... 37  
  - 7.10 Arrays ............................................................................................... 38  
- 8 Optimizations in the compiler ..................................................................... 67  
  - 8.1 How compilers optimize ....................................................................... 67  
  - 8.2 Comparison of different compilers ..................................................... 75  
  - 8.3 Obstacles to optimization by compiler ............................................... 79  
  - 8.4 Obstacles to optimization by CPU ....................................................... 83  
  - 8.5 Compiler optimization options ........................................................... 83  
  - 8.6 Optimization directives ....................................................................... 84  
  - 8.7 Checking what the compiler does ...................................................... 86  
- 9 Optimizing memory access ............................................................................ 89  
  - 9.1 Caching of code and data ..................................................................... 89  
  - 9.2 Cache organization .............................................................................. 89  
  - 9.3 Functions that are used together should be stored together ............... 90  
  - 9.4 Variables that are used together should be stored together ............... 90  
  - 9.5 Alignment of data ................................................................................ 92  
  - 9.6 Dynamic memory allocation .................................................................. 92  
  - 9.7 Data structures and container classes ............................................... 95  
  - 9.8 Strings ............................................................................................... 102  
- 10 Multithreading ............................................................................................ 107  
- 11 Out of order execution ............................................................................... 110  
- 12 Using vector operations ............................................................................ 112  
- 13 Making critical code in multiple versions for different instruction sets ...... 131  
- 14 Specific optimization topics ....................................................................... 141  
- 15 Metaprogramming ...................................................................................... 160  
- 16 Testing speed ............................................................................................ 164  
- 17 Optimization in embedded systems ......................................................... 169  
- 18 Overview of compiler options ..................................................................... 171  
- 19 Literature ................................................................................................... 174  
- 20 Copyright notice ....................................................................................... 175  
```
