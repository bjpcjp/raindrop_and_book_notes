```markdown
- 1 Introduction ....................................................................................................................... 6
  - 1.1 About this manual ....................................................................................................... 6
  - 1.2 Microprocessor versions covered by this manual ........................................................ 7
- 2 Out-of-order execution (All processors except P1, PMMX) ................................................ 9
  - 2.1 Instructions are split into Âµops..................................................................................... 9
  - 2.2 Register renaming .................................................................................................... 10
- 3 Branch prediction (all processors) ................................................................................... 12
  - 3.1 Prediction methods for conditional jumps .................................................................. 12
  - 3.2 Branch prediction in P1 ............................................................................................. 18
  - 3.3 Branch prediction in PMMX, PPro, P2, and P3 ......................................................... 21
  - 3.4 Branch prediction in P4 and P4E .............................................................................. 23
  - 3.5 Branch prediction in PM and Core2 .......................................................................... 25
  - 3.6 Branch prediction in Intel Nehalem ........................................................................... 27
  - 3.7 Branch prediction in Intel Sandy Bridge and Ivy Bridge ............................................. 28
  - 3.8 Branch prediction in Intel Haswell, Broadwell and Skylake........................................ 29
  - 3.9 Branch prediction in Intel Atom, Silvermont, Goldmont and Knights Landing ............ 29
  - 3.10 Branch prediction in VIA Nano ................................................................................ 30
  - 3.11 Branch prediction in AMD K8 and K10 .................................................................... 31
  - 3.12 Branch prediction in AMD Bulldozer, Piledriver, Steamroller and Excavator.......... 34
  - 3.1 Branch prediction in AMD Ryzen .............................................................................. 34
  - 3.2 Branch prediction in AMD Bobcat and Jaguar ........................................................... 35
  - 3.3 Indirect jumps on older processors ........................................................................... 35
  - 3.4 Returns (all processors except P1) ........................................................................... 36
  - 3.5 Static prediction ........................................................................................................ 36
  - 3.6 Close jumps .............................................................................................................. 37
- 4 Pentium 1 and Pentium MMX pipeline ............................................................................. 39
  - 4.1 Pairing integer instructions ........................................................................................ 39
  - 4.2 Address generation interlock ..................................................................................... 43
  - 4.3 Splitting complex instructions into simpler ones ........................................................ 43
  - 4.4 Prefixes..................................................................................................................... 44
  - 4.5 Scheduling floating point code .................................................................................. 45
- 5 Pentium 4 (NetBurst) pipeline .......................................................................................... 48
  - 5.1 Data cache ............................................................................................................... 48
  - 5.2 Trace cache .............................................................................................................. 48
  - 5.3 Instruction decoding .................................................................................................. 53
  - 5.4 Execution units ......................................................................................................... 54
  - 5.5 Do the floating point and MMX units run at half speed? ............................................ 57
  - 5.6 Transfer of data between execution units.................................................................. 59
  - 5.7 Retirement ................................................................................................................ 62
  - 5.8 Partial registers and partial flags ............................................................................... 62
  - 5.9 Store forwarding stalls .............................................................................................. 63
  - 5.10 Memory intermediates in dependency chains ......................................................... 63
  - 5.11 Breaking dependency chains .................................................................................. 65
  - 5.12 Choosing the optimal instructions ........................................................................... 65
  - 5.13 Bottlenecks in P4 and P4E...................................................................................... 68
```
