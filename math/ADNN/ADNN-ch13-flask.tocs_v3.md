![ADNN-ch13-flask](ADNN-ch13-flask.best.png)

- **13.1 Advanced/Other Topics: Flask and Deep Learning Web Services**
  - **13.1.1 Flask Hello World**
    - Flask is a Python library for quickly deploying Python applications as web services.
    - A simple Flask server can be started on port 9000 to display "Hello World" when accessed.
    - Flask runs as a server, and Jupyter typically acts as a client, though it can host Flask for development.
  - **13.1.2 MPG Flask**
    - A neural network is trained on MPG data and saved as an .h5 file to be deployed via Flask.
    - The Flask app processes JSON POST requests with car attributes to predict miles per gallon.
    - Input validation is performed using expected fields and their min/max ranges extracted from training data.
    - Example client integrations include use of PostMan and Python requests for sending JSON payloads.
    - The complete server script is named mpg_server_1.py and runs from the command line.
  - **13.1.3 Flask MPG Client**
    - Accessing the MPG Flask service requires HTTP POST requests with JSON input.
    - PostMan and Python requests library are demonstrated as client methods.
    - A successful prediction returns JSON containing mpg and error information.
  - **13.1.4 Images and Web Services**
    - Flask services can also accept images and classify them using models like MobileNet.
    - Image input is sent as form data with a file named "image" in PostMan or Python requests.
    - The image server script image_server_1.py runs similarly from the command line.
    - Output JSON contains predicted classes with names and probabilities.
- **13.2 Advanced/Other Topics: Interrupting and Continuing Training**
  - Training can be interrupted and resumed later using checkpoints with TensorFlow Keras.
  - Utility functions manage output directories, logging, and file management for multiple runs.
  - Example uses MNIST data with a convolutional neural network for classification.
  - ModelCheckpoint callback saves model weights during training for resuming.
  - Logger class redirects stdout and stderr to files for structured logging.
- **13.3 Advanced/Other Topics: Using a Keras Deep Neural Network with a Web Application**
  - A ReactJS single-page web application is integrated with the Flask image API for classification.
  - Web assets include index.html, style.css, and script.js to provide image upload and preview.
  - The application uses simple HTML/JavaScript/CSS to interact with the neural network API.
  - The source code and assets are structured to support deployment alongside the Flask backend.
- **13.4 Advanced/Other Topics: When to Retrain Your Neural Network**
  - Dataset drift arises when real-world data distribution changes over time, reducing model relevance.
  - New data collected post-deployment may differ in distribution from the original training data.
  - Drift detection can use statistical tests like the KS-Statistic to compare training and new data distributions.
  - The Sberbank Russian Housing Market dataset is used to illustrate preprocessing and drift detection.
  - A classifier approach trains a model to distinguish training vs. test data; a high AUC signals drift.
  - Methods include sampling datasets, preprocessing categoricals and numerics, and using RandomForest.
  - Further reading: [Sberbank Russian Housing Market](https://www.kaggle.com/c/sberbank-russian-housing-market)
- **13.5 Advanced/Other Topics: Using a Keras Deep Neural Network with a Web Application**
  - Deploy a neural network on iOS devices using Apple's CoreML framework for edge computing.
  - Conversion of Keras models (e.g., MobileNet) to CoreML format enables mobile image classification.
  - CoreML currently requires TensorFlow 1.14 and Keras 2.2.4 for compatibility with conversion tools.
  - The CoreML model includes input preprocessing options like scaling and class labels.
  - An iOS app is developed in XCode to classify images captured by the device camera.
  - Developer requirements include a Mac with XCode and an Apple Developer account.
  - Additional resources:  
    - [Running Keras models on iOS with CoreML](https://machinethink.net/blog/coreml-and-keras/)  
    - [How to build an image recognition iOS app with Appleâ€™s CoreML and Vision APIs](https://heartbeat.fritz.ai/how-to-build-an-image-recognition-ios-app-with-apples-coreml-and-vision-apis-117038bf3c48)
